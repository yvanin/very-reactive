/* The MIT License
Copyright (c) 2014 Yuri Vanin
https://github.com/yvanin/very-reactive */
(function(c){var b=function(){return{data:[]}};var e=function(i,h){if(!i.reactSubscribers){i.reactSubscribers=[]}i.reactSubscribers.push(h)};var f=function(){var h;if(this.reactSubscribers){for(h=0;h<this.reactSubscribers.length;h++){if(this.reactRx&&this.reactSubscribers[h].dispose){this.reactSubscribers[h].dispose()}if(this.reactBacon&&typeof(this.reactSubscribers[h])=="function"){this.reactSubscribers[h].call()}}this.reactSubscribers=[]}else{console.warn("reactSubscribers is missing")}};var a=function(h){if(!h.stateFromObservable.source||!h.stateFromObservable.source.subscribe){console.warn('stateFromObservable does not have required property "source" with observable value');return}var j=h.stateFromObservable.source;h.getInitialState=b;var i=h.componentDidMount;h.componentDidMount=function(){var l=this;var k=j.subscribe(function(m){l.state.data.push(m);l.setState(l.state.data)},h.stateFromObservable.error,h.stateFromObservable.completed);if(i){i.call(null)}e(j,k)};j.reactRx=true;j.disposeReactSubscribers=f.bind(j)};var d=function(h){if(!h.stateFromEventStream.source||!h.stateFromEventStream.source.subscribe){console.warn('stateFromEventStream does not have required property "source" with observable value');return}var j=h.stateFromEventStream.source;h.getInitialState=b;var i=h.componentDidMount;h.componentDidMount=function(){var l=this;var k=j.onValue(function(m){l.state.data.push(m);l.setState(l.state.data)});if(i){i.call(null)}e(j,k)};j.reactBacon=true;j.disposeReactSubscribers=f.bind(j)};var g=function(){var h=c.createClass;c.createClass=function(i){if(i){if(i.stateFromObservable){a(i)}else{if(i.stateFromEventStream){d(i)}}}return h.call(null,i)}};if(c){g()}else{console.error("React is not defined")}})(React);